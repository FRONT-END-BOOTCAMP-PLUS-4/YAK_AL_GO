generator client {
  provider = "prisma-client-js"
  output   = "../prisma/generated"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model answers {
  id          Int       @id @default(autoincrement())
  createdAt   DateTime  @default(now()) @map("created_at")
  updatedAt   DateTime  @default(now()) @map("updated_at")
  deletedAt   DateTime? @map("deleted_at")
  isAccepted  Boolean   @default(false) @map("is_accepted")
  userId      String    @map("user_id")
  qnaId       Int       @map("qna_id")
  content     Json
  contentHTML String?   @map("content_html")
  qnas        qnas      @relation(fields: [qnaId], references: [id])
  users       users     @relation(fields: [userId], references: [id])
}

model comments {
  id        Int       @id @default(autoincrement())
  content   String
  createdAt DateTime  @default(now()) @map("created_at")
  updatedAt DateTime  @default(now()) @map("updated_at")
  deletedAt DateTime? @map("deleted_at")
  userId    String    @map("user_id")
  postId    Int       @map("post_id")
  posts     posts     @relation(fields: [postId], references: [id])
  users     users     @relation(fields: [userId], references: [id])
}

model healths {
  id           Int            @id @default(autoincrement())
  health_name  String         @db.VarChar(100)
  user_healths user_healths[]
}

model inventories {
  id         Int        @id @default(autoincrement())
  quantity   Int
  itemSeq    String
  hpid       String
  pharmacies pharmacies @relation(fields: [hpid], references: [hpid])
  medicines  medicines  @relation(fields: [itemSeq], references: [item_seq])
}

model medi_times {
  id         Int        @id @default(autoincrement())
  medi_time  Int
  userMediId Int
  user_medis user_medis @relation(fields: [userMediId], references: [id])
}

model medicines {
  item_seq                String                    @id
  item_name               String                    @db.VarChar(255)
  entp_name               String?                   @db.VarChar(255)
  item_permit_date        DateTime?
  etc_otc_code            String?                   @db.VarChar(50)
  class_no                String?                   @db.VarChar(100)
  chart                   String?
  bar_code                String?                   @db.VarChar(50)
  material_name           String?
  ee_doc_id               String?                   @db.VarChar(255)
  bizrno                  String?                   @db.VarChar(20)
  cancel_date             DateTime?
  cancel_name             String?                   @db.VarChar(100)
  change_date             DateTime?
  created_at              DateTime                  @default(now())
  edi_code                String?                   @db.VarChar(50)
  insert_file             String?                   @db.VarChar(255)
  nb_doc_id               String?                   @db.VarChar(255)
  pack_unit               String?                   @db.VarChar(255)
  reexam_date             DateTime?
  reexam_target           String?                   @db.VarChar(255)
  storage_method          String?                   @db.VarChar(255)
  type_code               String?                   @db.VarChar(10)
  type_name               String?                   @db.VarChar(100)
  ud_doc_id               String?                   @db.VarChar(255)
  updated_at              DateTime                  @updatedAt
  valid_term              String?                   @db.VarChar(100)
  inventories             inventories[]
  medi_age_limits         medi_age_limits[]
  medi_dose_cautions      medi_dose_cautions[]
  medi_duplicate_effects  medi_duplicate_effects[]
  medi_elderly_cautions   medi_elderly_cautions[]
  medi_interactions       medi_interactions[]
  medi_period_warnings    medi_period_warnings[]
  medi_pregnancy_warnings medi_pregnancy_warnings[]
  medi_sr_warnings        medi_sr_warnings[]
  user_medis              user_medis[]

  @@index([item_name])
  @@index([entp_name])
}

model pharmacies {
  hpid        String        @id
  duty_addr   String?       @db.VarChar(255)
  duty_mapimg String?       @db.VarChar(255)
  duty_name   String        @db.VarChar(255)
  duty_tel1   String?       @db.VarChar(50)
  duty_time1c String?       @db.VarChar(10)
  duty_time1s String?       @db.VarChar(10)
  duty_time2c String?       @db.VarChar(10)
  duty_time2s String?       @db.VarChar(10)
  duty_time3c String?       @db.VarChar(10)
  duty_time3s String?       @db.VarChar(10)
  duty_time4c String?       @db.VarChar(10)
  duty_time4s String?       @db.VarChar(10)
  duty_time5c String?       @db.VarChar(10)
  duty_time5s String?       @db.VarChar(10)
  duty_time6c String?       @db.VarChar(10)
  duty_time6s String?       @db.VarChar(10)
  duty_time7c String?       @db.VarChar(10)
  duty_time7s String?       @db.VarChar(10)
  post_cdn1   String?       @db.VarChar(10)
  post_cdn2   String?       @db.VarChar(10)
  wgs84_lat   Decimal?      @db.Decimal(10, 7)
  wgs84_lon   Decimal?      @db.Decimal(10, 7)
  inventories inventories[]
  users       users[]
}

model posts_tags {
  id     Int   @id @default(autoincrement())
  tagId  Int   @map("tag_id")
  postId Int   @map("post_id")
  posts  posts @relation(fields: [postId], references: [id])
  tags   tags  @relation(fields: [tagId], references: [id])
}

model posts {
  id          Int          @id @default(autoincrement())
  title       String       @db.VarChar(255)
  createdAt   DateTime     @default(now()) @map("created_at")
  updatedAt   DateTime     @default(now()) @map("updated_at")
  deletedAt   DateTime?    @map("deleted_at")
  userId      String       @map("user_id")
  content     Json
  contentHTML String?      @map("content_html")
  comments    comments[]
  users       users        @relation(fields: [userId], references: [id])
  postTags    posts_tags[]
}

model qna_tags {
  id    Int  @id @default(autoincrement())
  tagId Int  @map("tag_id")
  qnaId Int  @map("qna_id")
  qnas  qnas @relation(fields: [qnaId], references: [id], onDelete: Cascade)
  tags  tags @relation(fields: [tagId], references: [id], onDelete: Cascade)
}

model qnas {
  id          Int        @id @default(autoincrement())
  title       String     @db.VarChar(255)
  createdAt   DateTime   @default(now()) @map("created_at")
  updatedAt   DateTime   @default(now()) @map("updated_at")
  deletedAt   DateTime?  @map("deleted_at")
  userId      String     @map("user_id")
  content     Json
  contentHTML String?    @map("content_html")
  answers     answers[]
  qnaTags     qna_tags[]
  users       users      @relation(fields: [userId], references: [id])
}

model tags {
  id       Int          @id @default(autoincrement())
  tagName  String       @db.VarChar(100)
  postTags posts_tags[]
  qnaTags  qna_tags[]
}

model user_healths {
  id       Int     @id @default(autoincrement())
  userId   String
  healthId Int
  healths  healths @relation(fields: [healthId], references: [id])
  users    users   @relation(fields: [userId], references: [id])
}

model user_medis {
  id         Int          @id @default(autoincrement())
  start_date DateTime?
  end_date   DateTime?
  userId     String
  itemSeq    String
  medi_times medi_times[]
  medicines  medicines    @relation(fields: [itemSeq], references: [item_seq])
  users      users        @relation(fields: [userId], references: [id])
}

model users {
  id           String         @id @default(uuid())
  email        String?        @unique @db.VarChar(255)
  photo        String?        @db.VarChar(255)
  name         String?        @db.VarChar(100)
  birthyear    Int?
  gender       String?        @db.VarChar(10)
  member_type  Int
  created_at   DateTime       @default(now())
  deleted_at   DateTime?
  hpid         String?
  answers      answers[]
  comments     comments[]
  posts        posts[]
  qnas         qnas[]
  user_healths user_healths[]
  user_medis   user_medis[]
  pharmacies   pharmacies?    @relation(fields: [hpid], references: [hpid])
}

model medi_interactions {
  id                       Int       @id @default(autoincrement())
  dur_seq                  String?   @db.VarChar(50)
  type_code                String?   @db.VarChar(10)
  type_name                String?   @db.VarChar(50)
  mix                      String?   @db.VarChar(20)
  ingr_code                String?   @db.VarChar(50)
  ingr_kor_name            String?   @db.VarChar(255)
  ingr_eng_name            String?   @db.VarChar(255)
  mix_ingr                 String?
  item_seq                 String    @db.VarChar(50)
  item_name                String    @db.VarChar(255)
  entp_name                String?   @db.VarChar(255)
  chart                    String?
  form_code                String?   @db.VarChar(50)
  etc_otc_code             String?   @db.VarChar(10)
  class_code               String?   @db.VarChar(50)
  form_name                String?   @db.VarChar(100)
  etc_otc_name             String?   @db.VarChar(50)
  class_name               String?   @db.VarChar(255)
  main_ingr                String?
  mixture_dur_seq          String?   @db.VarChar(50)
  mixture_mix              String?   @db.VarChar(20)
  mixture_ingr_code        String?   @db.VarChar(50)
  mixture_ingr_kor_name    String?   @db.VarChar(255)
  mixture_ingr_eng_name    String?   @db.VarChar(255)
  mixture_item_seq         String?   @db.VarChar(50)
  mixture_item_name        String?   @db.VarChar(255)
  mixture_entp_name        String?   @db.VarChar(255)
  mixture_form_code        String?   @db.VarChar(50)
  mixture_etc_otc_code     String?   @db.VarChar(10)
  mixture_class_code       String?   @db.VarChar(50)
  mixture_form_name        String?   @db.VarChar(100)
  mixture_etc_otc_name     String?   @db.VarChar(50)
  mixture_class_name       String?   @db.VarChar(255)
  mixture_main_ingr        String?
  notification_date        String?   @db.VarChar(20)
  prohbt_content           String?
  remark                   String?
  item_permit_date         String?   @db.VarChar(20)
  mixture_item_permit_date String?   @db.VarChar(20)
  mixture_chart            String?
  change_date              String?   @db.VarChar(20)
  mixture_change_date      String?   @db.VarChar(20)
  bizrno                   String?   @db.VarChar(20)
  created_at               DateTime  @default(now())
  updated_at               DateTime  @updatedAt
  medicines                medicines @relation(fields: [item_seq], references: [item_seq])

  @@unique([item_seq, dur_seq])
  @@index([item_seq])
  @@index([mixture_item_seq])
  @@index([ingr_code])
  @@index([mixture_ingr_code])
}

model medi_age_limits {
  id                 Int       @id @default(autoincrement())
  type_name          String?   @db.VarChar(50)
  mix_type           String?   @db.VarChar(20)
  ingr_code          String?   @db.VarChar(50)
  ingr_eng_name      String?   @db.VarChar(255)
  ingr_name          String?   @db.VarChar(255)
  mix_ingr           String?
  form_name          String?   @db.VarChar(100)
  item_seq           String    @db.VarChar(50)
  item_name          String    @db.VarChar(255)
  item_permit_date   String?   @db.VarChar(20)
  entp_name          String?   @db.VarChar(255)
  chart              String?
  class_code         String?   @db.VarChar(50)
  class_name         String?   @db.VarChar(255)
  etc_otc_name       String?   @db.VarChar(50)
  main_ingr          String?
  notification_date  String?   @db.VarChar(20)
  prohbt_content     String?
  remark             String?
  ingr_eng_name_full String?   @db.VarChar(500)
  change_date        String?   @db.VarChar(20)
  created_at         DateTime  @default(now())
  updated_at         DateTime  @updatedAt
  medicines          medicines @relation(fields: [item_seq], references: [item_seq])

  @@unique([item_seq, ingr_code])
  @@index([item_seq])
  @@index([ingr_code])
  @@index([type_name])
}

model medi_pregnancy_warnings {
  id                 Int       @id @default(autoincrement())
  type_name          String?   @db.VarChar(50)
  mix_type           String?   @db.VarChar(20)
  ingr_code          String?   @db.VarChar(50)
  ingr_eng_name      String?   @db.VarChar(255)
  ingr_name          String?   @db.VarChar(255)
  mix_ingr           String?
  form_name          String?   @db.VarChar(100)
  item_seq           String    @db.VarChar(50)
  item_name          String    @db.VarChar(255)
  item_permit_date   String?   @db.VarChar(20)
  entp_name          String?   @db.VarChar(255)
  chart              String?
  class_code         String?   @db.VarChar(50)
  class_name         String?   @db.VarChar(255)
  etc_otc_name       String?   @db.VarChar(50)
  main_ingr          String?
  notification_date  String?   @db.VarChar(20)
  prohbt_content     String?
  remark             String?
  ingr_eng_name_full String?   @db.VarChar(500)
  change_date        String?   @db.VarChar(20)
  created_at         DateTime  @default(now())
  updated_at         DateTime  @updatedAt
  medicines          medicines @relation(fields: [item_seq], references: [item_seq])

  @@unique([item_seq, ingr_code])
  @@index([item_seq])
  @@index([ingr_code])
  @@index([type_name])
}

model medi_elderly_cautions {
  id                 Int       @id @default(autoincrement())
  type_name          String?   @db.VarChar(50)
  mix_type           String?   @db.VarChar(20)
  ingr_code          String?   @db.VarChar(50)
  ingr_eng_name      String?   @db.VarChar(255)
  ingr_name          String?   @db.VarChar(255)
  mix_ingr           String?
  form_name          String?   @db.VarChar(100)
  item_seq           String    @db.VarChar(50)
  item_name          String    @db.VarChar(255)
  item_permit_date   String?   @db.VarChar(20)
  entp_name          String?   @db.VarChar(255)
  chart              String?
  class_code         String?   @db.VarChar(50)
  class_name         String?   @db.VarChar(255)
  etc_otc_name       String?   @db.VarChar(50)
  main_ingr          String?
  notification_date  String?   @db.VarChar(20)
  prohbt_content     String?
  remark             String?
  ingr_eng_name_full String?   @db.VarChar(500)
  change_date        String?   @db.VarChar(20)
  created_at         DateTime  @default(now())
  updated_at         DateTime  @updatedAt
  medicines          medicines @relation(fields: [item_seq], references: [item_seq])

  @@unique([item_seq, ingr_code])
  @@index([item_seq])
  @@index([ingr_code])
  @@index([type_name])
}

model medi_dose_cautions {
  id                 Int       @id @default(autoincrement())
  type_name          String?   @db.VarChar(50)
  mix_type           String?   @db.VarChar(20)
  ingr_code          String?   @db.VarChar(50)
  ingr_eng_name      String?   @db.VarChar(255)
  ingr_name          String?   @db.VarChar(255)
  mix_ingr           String?
  form_name          String?   @db.VarChar(100)
  item_seq           String    @db.VarChar(50)
  item_name          String    @db.VarChar(255)
  item_permit_date   String?   @db.VarChar(20)
  entp_name          String?   @db.VarChar(255)
  chart              String?
  class_code         String?   @db.VarChar(50)
  class_name         String?   @db.VarChar(255)
  etc_otc_name       String?   @db.VarChar(50)
  main_ingr          String?
  notification_date  String?   @db.VarChar(20)
  prohbt_content     String?
  remark             String?
  ingr_eng_name_full String?   @db.VarChar(500)
  change_date        String?   @db.VarChar(20)
  created_at         DateTime  @default(now())
  updated_at         DateTime  @updatedAt
  medicines          medicines @relation(fields: [item_seq], references: [item_seq])

  @@unique([item_seq, ingr_code])
  @@index([item_seq])
  @@index([ingr_code])
  @@index([type_name])
}

model medi_period_warnings {
  id                 Int       @id @default(autoincrement())
  type_name          String?   @db.VarChar(50)
  mix_type           String?   @db.VarChar(20)
  ingr_code          String?   @db.VarChar(50)
  ingr_eng_name      String?   @db.VarChar(255)
  ingr_name          String?   @db.VarChar(255)
  mix_ingr           String?
  form_name          String?   @db.VarChar(100)
  item_seq           String    @db.VarChar(50)
  item_name          String    @db.VarChar(255)
  item_permit_date   String?   @db.VarChar(20)
  entp_name          String?   @db.VarChar(255)
  chart              String?
  class_code         String?   @db.VarChar(50)
  class_name         String?   @db.VarChar(255)
  etc_otc_name       String?   @db.VarChar(50)
  main_ingr          String?
  notification_date  String?   @db.VarChar(20)
  prohbt_content     String?
  remark             String?
  ingr_eng_name_full String?   @db.VarChar(500)
  change_date        String?   @db.VarChar(20)
  created_at         DateTime  @default(now())
  updated_at         DateTime  @updatedAt
  medicines          medicines @relation(fields: [item_seq], references: [item_seq])

  @@unique([item_seq, ingr_code])
  @@index([item_seq])
  @@index([ingr_code])
  @@index([type_name])
}

model medi_duplicate_effects {
  id                 Int       @id @default(autoincrement())
  dur_seq            String?   @db.VarChar(50)
  effect_name        String?   @db.VarChar(255)
  type_name          String?   @db.VarChar(50)
  ingr_code          String?   @db.VarChar(50)
  ingr_name          String?   @db.VarChar(255)
  ingr_eng_name      String?   @db.VarChar(255)
  form_code_name     String?   @db.VarChar(100)
  mix                String?   @db.VarChar(20)
  mix_ingr           String?
  item_seq           String    @db.VarChar(50)
  item_name          String    @db.VarChar(255)
  item_permit_date   String?   @db.VarChar(20)
  chart              String?
  entp_name          String?   @db.VarChar(255)
  form_code          String?   @db.VarChar(50)
  form_name          String?   @db.VarChar(100)
  etc_otc_code       String?   @db.VarChar(10)
  etc_otc_name       String?   @db.VarChar(50)
  class_code         String?   @db.VarChar(50)
  class_name         String?   @db.VarChar(255)
  main_ingr          String?
  notification_date  String?   @db.VarChar(20)
  prohbt_content     String?
  remark             String?
  ingr_eng_name_full String?   @db.VarChar(500)
  change_date        String?   @db.VarChar(20)
  bizrno             String?   @db.VarChar(20)
  sers_name          String?   @db.VarChar(255)
  created_at         DateTime  @default(now())
  updated_at         DateTime  @updatedAt
  medicines          medicines @relation(fields: [item_seq], references: [item_seq])

  @@unique([item_seq, dur_seq])
  @@index([item_seq])
  @@index([effect_name])
  @@index([ingr_code])
  @@index([sers_name])
}

model medi_sr_warnings {
  id               Int       @id @default(autoincrement())
  type_name        String?   @db.VarChar(50)
  item_seq         String    @db.VarChar(50)
  item_name        String    @db.VarChar(255)
  item_permit_date String?   @db.VarChar(20)
  form_code_name   String?   @db.VarChar(100)
  entp_name        String?   @db.VarChar(255)
  chart            String?
  class_code       String?   @db.VarChar(50)
  class_name       String?   @db.VarChar(255)
  etc_otc_name     String?   @db.VarChar(50)
  mix              String?   @db.VarChar(20)
  main_ingr        String?
  prohbt_content   String?
  remark           String?
  change_date      String?   @db.VarChar(20)
  bizrno           String?   @db.VarChar(20)
  created_at       DateTime  @default(now())
  updated_at       DateTime  @updatedAt
  medicines        medicines @relation(fields: [item_seq], references: [item_seq])

  @@unique([item_seq, type_name])
  @@index([item_seq])
  @@index([type_name])
}
